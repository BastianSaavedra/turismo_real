{% extends '../layout/base.html' %}
{% load static %}
{% load tags %}
{% block title %}Home{% endblock %}
{% block content %}

<link rel="stylesheet" type="text/css" href="{% static 'css/style2.css' %}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.css" integrity="sha512-UTNP5BXLIptsaj5WdKFrkFov94lDx+eBvbKyoe1YAfjeRPC+gT5kyZ10kOHCfNZqEui1sxmqvodNUx3KbuYI/A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css" integrity="sha512-sMXtMNL1zRzolHYKEujM2AqCLUR9F2C4/05cdbxjjLSRvMQIciEPCQZo++nk7go3BtSuK9kfa/s+a4f4i5pLkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>

<!-- Carrousel de imagenes empieza aqui-->
<section class="home">
  <div class="content">
    <div class="owl-carousel owl-theme">
      <div class="item">
        <img src="{% static 'img/banner-1.jpg' %}" height="500px" alt="">
          <div class="text" id="texto">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
      <div class="item">
        <img src="{% static 'img/banner.jpg' %}" height="500px"  alt="">
          <div class="text">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
      <div class="item">
        <img src="{% static 'img/banner-4.jpg' %}" height="500px"  alt="">
          <div class="text">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
      <div class="item">
        <img src="{% static 'img/gallery-2.jpg' %}" height="500px"  alt="">
          <div class="text">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
      <div class="item">
        <img src="{% static 'img/gallery-3.jpg' %}" height="500px"  alt="">
          <div class="text">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
      <div class="item">
        <img src="{% static 'img/gallery-4.jpg' %}" height="500px"  alt="">
          <div class="text">
            <h1>Disfruta de tus vacaciones</h1>
            <p>Contamos con una amplia variedad de selecciones a lo largo del pais, desde el extremo norte en Arica hasta el extremo sur en Punta Arenas.</p>
              <div class="flex">
                <button class="btn btn-warning">Leer mas</button> 
                <button class="btn btn-success">Contactanos</button>
              </div>      
          </div>
      </div>
    </div>
  </div>
</section>

<!-- Booking Section starts here -->
<section class="booking">
  <div class="container-fluid px-5">
    </div>
    <!-- Formulario de busqueda de departamento empieza aqui -->
    <form action="" method="POST" class="needs-validation">
      {% csrf_token %}
      <div class="row justify-content-center py-5" style="background: rgba(70, 78, 158, 0.8);">
        <div class="col-lg-3 form-group text-center">
          <label>Destino</label>
          <select class="form-select bg-white rounded-pill text-center border-primary" name="search_location" id="id_comuna">
            <!-- Departamento id y ubicacion  -->
            <option disable selected hidden>Seleccionar</option>
            {% for comuna_name, region_name, comuna_id in all_locations %}
            <optgroup  value="{{ comuna_id }}" label="{{ region_name }}">
              <option value="{{ comuna_id }}">{{ comuna_name }}</option>  
            </optgroup>
            {% endfor %}
          </select>
        </div>        

        {% comment %}
        <div class="col-lg-2">
          <input 
            class="form-control mr-sm-2" 
            type="datetime-local" 
            placeholder="Check in"
            name="cin" 
            min="{% todays_date %}" 
            max="{% max_date %}" 
            aria-label="Search" 
            required="True"
          />
        </div>
        {% endcomment %}


        <div class="col-lg-2 text-center">
          <label>Check-in</label>
          <input 
            class="form-control mr-sm-2 bg-white rounded-pill border-success text-center" 
            type="datetime-local" 
            placeholder="Check in"
            name="cin"
            aria-label="Search" 
            required
          />
        </div>

        <div class="col-lg-2 text-center">
          <label for="">Check-out</label>
          <input 
            class="form-control mr-sm-2 bg-white rounded-pill border-warning text-center" 
            type="datetime-local" 
            placeholder="Check out"
            name="cout"
            aria-label="Search" 
            required="True"
            />
        </div>

        <div class="col-lg-2 text-center">
          <label for="">Huéspedes</label>
          <div class="input-group">
            <span class="input-group-btn">
              <button 
                class="btn btn-number"
                type="button"
                disabled="disabled"
                data-type="minus"
                data-field="capacidad"
                >
                <i class="fa-solid fa-minus"></i>
              </button>
            </span>

            <input 
              type="text" 
              name="capacidad" 
              class="form-control input-number text-center rounded-pill border-secondary" 
              value="1" min="1" max="30">

            <span class="input-group-btn">
              <button 
                class="btn btn-number"
                type="button"
                data-type="plus"
                data-field="capacidad"
                >
                <i class="fa-solid fa-plus"></i>
              </button>
            </span>

            
          </div>
        </div>

        <div class="col-lg-2">
          <!-- <input type="submit" value="Buscar" class="form-control mr-sm-2 btn btn-primary my-3" style="position: relative;top: 7px;" > -->
          <button class="btn btn-primary text-center my-3 mx-auto rounded-pill" style="position: relative; top: 7px;">
            Buscar
            <i class="fa-solid fa-magnifying-glass"></i>
          </button>
        </div>

        {% comment %}
        {% if detalles_dpto %}
        <p class="text-center text-success ">Departamentos Disponibles</p>
        {% endif %}
        {% endcomment %}

        <div class="col-lg-4 text-center">
          {% include '../layout/mensajes.html' %}
        </div>
        
      </div>
    </form>
    <!-- Formulario de busqueda de departamento termina aqui -->
    

    <div class="container px-0 mx-auto">
      {% for dpto in detalles_dpto %}
        <div class="card mb-3" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-4">
              <img src="{{ dpto.departamento.comuna.img.url }}" alt="{{ dpto.departamento.comuna.img.url}}" class="img-fluid rounded-start">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5>{{ dpto.departamento.titulo }}</h5>
                <p class="card-text">{{ dpto.departamento.direccion }}</p>
                <p class="card-text">{{ dpto.capacidad }}</p>
                <p class="card-text">{{ dpto.precio }}</p>
              </div>
              <a href="{% url 'home_reserva_confirmacion' dpto.id %}"><button class="btn btn-warning">Reservar</button></a>
            </div>

          </div>
        </div>
      {% endfor %}
    </div>
    <!-- Resultados de busqueda del departamento termina aqui -->

    <div class="container px-0 mx-auto">
      <div class="row row-cols-1 row-cols-md-6 g-4">
        {% for comuna in comunas  %}
          <div class="col">
            <div class="card border-0">
              <img src="{{ comuna.comuna.img.url }}" alt="{{ comuna.comuna.nombre }}"  class="card-img-top">
              <div class="card-body">
                <h5 class="card-title text-center">{{ comuna.comuna.nombre }}</h5>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
<!-- Footer -->
<footer class="bg-dark text-white">
  <!-- Grid container -->
  <div class="container p-4 ">
    <!-- Section: Social media -->
    <section class="mb-4 text-center">
      <!-- Facebook -->
      <a class="btn btn-outline-light btn-floating m-1 rounded-pill" href="#!" target="_blank" role="button"
        ><i class="fab fa-facebook-f"></i
      ></a>

      <!-- Twitter -->
      <a class="btn btn-outline-light btn-floating m-1 rounded-pill" href="#!" target="_blank" role="button"
        ><i class="fab fa-twitter"></i
      ></a>

      <!-- Google -->
      <a class="btn btn-outline-light btn-floating m-1 rounded-pill" href="#!" target="_blank" role="button"
        ><i class="fab fa-google"></i
      ></a>

      <!-- Instagram -->
      <a class="btn btn-outline-light btn-floating m-1 rounded-pill" href="#!" target="_blank" role="button"
        ><i class="fab fa-instagram"></i
      ></a>

      <!-- Github -->
      <a class="btn btn-outline-light btn-floating m-1 rounded-pill" href="https://github.com/bsaavedra-zets/turismo_real" target="_blank" role="button"
        ><i class="fab fa-github"></i
      ></a>
    </section>
    <!-- Section: Social media -->

    <!-- Section: Text -->
    <section class="mb-4 text-center">
      <img src="{% static 'img/logo_wh2.png' %}" height="100" width="140">
      <hr>
      <p>
        Turismo Real es una empresa creada a partir de la necesidad de contar 
        con un sistema de reserva para departamentos que fuera simple y 
        pensado en el usuario, y que su diseño no fuese un impedimento al momento de 
        realizar alguna reserva de departamentos de esta forma nacio Turismo Real.
      </p>
    </section>
    <!-- Section: Text -->

    <!-- Section: Links -->
    <section class="">
      <!--Grid row-->
      <div class="row">
        <!--Grid column-->
        <div class="col-sm-4 center-block">
          <h5 class="text-uppercase">Links</h5>

          <ul class="list-unstyled mb-0">
            <li>
              <a href="#!" class="text-white">Galeria</a>
            </li>
            <li>
              <a href="#!" class="text-white">Reservas</a>
            </li>
            <li>
              <a href="#!" class="text-white">FAQ</a>
            </li>
            <li>
              <a href="#!" class="text-white">Contacto</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-sm-4 center-block">
          <h5 class="text-uppercase">Servicios</h5>
          <ul class="list-unstyled mb-0">
            <li>
              <a href="#!" class="text-white">Servicio de alimentacion</a>
            </li>
            <li>
              <a href="#!" class="text-white">Servicio turistico</a>
            </li>
            <li>
              <a href="#!" class="text-white">Transporte</a>
            </li>
          </ul>
        </div>
        <!--Grid column-->

        <!--Grid column-->
        <div class="col-xs-12 col-sm-4 col-sm-push-4">
          <h5 class="text-uppercase">Contacto</h5>
          <ul class="list- mb-0">
            <div class="icon flex">
              <div class="text">
                <i class="fas fa-envelope"></i>
                <h5>Correo</h5>
                <p>turismoreal@turismo.com</p>
              </div>
            </div>
            <div class="icon flex">
              <div class="text">
                <i class="fas fa-phone"></i>
                <h5>Numero telefonico</h5>
                <p>+ 56 9 6611 6558</p>
              </div>
            </div>
            <div class="icon flex">
              <div class="text">
                <i class="fas fa-map-marker-alt"></i>
                <h5>Ubicacion</h5>
                <p>Esquina Blanca 501, Maipu</p>
              </div>
            </div>
          </ul>
        </div>
      </div>
      <!--Grid row-->
    </section>
    <!-- Section: Links -->
  </div>
  <!-- Grid container -->

  <!-- Copyright -->
  <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">
    © 2022 Copyright:
    <a class="text-white" >TurismoReal.com</a>
  </div>
  <!-- Copyright -->
</footer>
<!-- Footer -->

{% endblock %}

{% block js %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js" integrity="sha512-bPs7Ae6pVvhOSiIcyUClR7/q2OAsRiovw4vAkX+zJbw3ShAeeqezq50RIIcIURq7Oa20rW2n2q+fyXBNcU9lrw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!--Script JS para primer carrusel-->
<script>
  $('.owl-carousel').owlCarousel({
    loop:true,
    margin:40,
    nav:true,
    dots: false,
    autoplay:true,
    autoplayTimeout:4000,
    autoplayHoverPause:true,
    navtext:["<i class = 'fa-solid fa-chevron-left' height='10px'></i>", "<i class = 'fa fa-chevron-right'></i>"],
    responsive:{
        0:{
            items:1
        },
        768:{
            items:1
        },
        1000:{
            items:1
        }
    }
})
</script>

{% endblock %}
