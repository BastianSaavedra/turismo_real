{% extends 'administration/layout_administration/list_base.html' %}
{% block interface_title %}Departamentos{% endblock %}
{% block list_title %}{{ title }}{% endblock %}
{% url 'administration_departamento_create' as create_dpto %}

{% block columns %}
  <tr>
    <th scope="col" style="width: 10%;">Id Departamento</th>
    <th scope="col" style="width: 20%;">Titulo</th>
    <th scope="col">Direccion</th>
    <th scope="col">Comuna / Region</th>
    <th scope="col">Estado</th>
    <th>Opciones</th>
  </tr>
{% endblock %}

{% block rows %}
  {% for dpto in object_list %}
    <tr>
      <td>{{ dpto.departamento.id }}</td>
      <td>{{ dpto.departamento.titulo }}</td>
      <td>{{ dpto.departamento.direccion }}</td>
      <td>{{ dpto.departamento.comuna }} - {{ dpto.departamento.comuna.region }}</td>
      <td>
        {% if dpto.status == "1" %}
        <span class="bg-success text-white rounded-pill px-2">
          Disponible
        </span>
        {% elif dpto.status == "2"%}
        <span data-bs-toggle="tooltip" data-bs-placement="top" title="Cantidad de Dias en Mantencion: {{ dpto.cant_dias_mantencion }}" class="bg-warning text-white rounded-pill px-2">
          En Mantencion
        </span>
        {% else %}
        <span class="bg-secondary text-white rounded-pill px-2">
          No Disponible
        </span>
        {% endif %}
      </td>
      <td>
        <a href="{% url 'administration_departamento_update' dpto.departamento.id %}" class="btn btn-warning btn-sm" type="button">
          <i class="bi bi-pencil"></i>
        </a>
      </td>
    </tr>
  {% endfor %}

{% endblock %}
{% block button_create %}
<a href="{% url 'administration_departamento_create' %}" class="btn btn-success">
  <i class="fas fa-plus"></i>
  Agregar Departamento
</a>
{% endblock %}

